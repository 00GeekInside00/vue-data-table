"undefined"!=typeof Vue&&Vue.component("data-table",{template:'<table v-if="filteredData.length == 0">\n    <caption>\n      <slot name="caption">&nbsp;</slot>\n    </caption>\n    <thead>\n      <tr>\n        <th v-for="key in columns">\n          {{ key | getDisplayName(displayNames) }}\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td :colspan="columns.length">\n          <slot name="nodata">\n          </slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <table v-else-if="$scopedSlots.child">\n    <caption>\n      <slot name="caption">&nbsp;</slot>\n    </caption>\n    <thead>\n      <tr>\n        <th v-for="key in columns" @click="sortBy(key)" :class="{ active: sortKey == key }">\n          {{ key | getDisplayName(displayNames) }}\n          <span v-if="colSortable(key)" class="arrow" :class="sortOrders[key] > 0 ? \'asc\' : \'dsc\'">\n          </span>\n        </th>\n      </tr>\n    </thead>\n    <tbody v-for="(entry, index) in filteredData" @dblclick="toggleChild(index)">\n      <tr>\n        <td v-for="key in columns">\n          <slot :name="key" :entry="entry">\n            {{entry[key]}}\n          </slot>\n        </td>\n      </tr>\n      <transition :name="childTransitionClass">\n          <tr v-if="$scopedSlots.child && childShow[index]">\n            <td :colspan="columns.length">\n              <slot name="child" :entry="entry"></slot>\n            </td>\n          </tr>\n      </transition>\n    </tbody>\n  </table>\n  <table v-else>\n    <caption>\n      <slot name="caption">&nbsp;</slot>\n    </caption>\n    <thead>\n      <tr>\n        <th v-for="key in columns" @click="sortBy(key)" :class="{ active: sortKey == key }">\n          {{ key | getDisplayName(displayNames) }}\n          <span v-if="colSortable(key)" class="arrow" :class="sortOrders[key] > 0 ? \'asc\' : \'dsc\'">\n          </span>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for="(entry, index) in filteredData">\n        <td v-for="key in columns">\n          <slot :name="key" :entry="entry">\n            {{entry[key]}}\n          </slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>',
props:{data:Array,columnsToDisplay:{type:Array,"default":function(){return[]}},columnsToNotDisplay:{type:Array,"default":function(){return[]}},columnsToSort:{type:Array,"default":function(){return[]}},columnsToNotSort:{type:Array,"default":function(){return[]}},aggregateColumns:{type:Boolean,"default":!1},displayNames:{type:Object,"default":function(){return{}}},filterKey:{type:String,"default":""},childHideable:{type:Boolean,"default":!1},childInitHide:{type:Boolean,"default":!1},childTransitionClass:{type:String,
"default":""}},data:function(){var a={};this.getColumns(this.columnsToDisplay,this.data,this.columnsToNotDisplay).forEach(function(b){return a[b]=1});var b=[];this.childInitHide?this.data.forEach(function(a){return b.push(!1)}):this.data.forEach(function(a){return b.push(!0)});return{sortKey:"",sortOrders:a,childShow:b}},computed:{filteredData:function(){var a=this.sortKey,b=this.filterKey&&this.filterKey.toLowerCase(),e=this.sortOrders[a]||1,c=this.data;b&&(c=c.filter(function(a){return Object.keys(a).some(function(d){return-1<
String(a[d]).toLowerCase().indexOf(b)})}));a&&(c=c.slice().sort(function(b,d){b=b[a];d=d[a];return(b===d?0:b>d?1:-1)*e}));return c},columns:function(){return this.getColumns(this.columnsToDisplay,this.data,this.columnsToNotDisplay)}},filters:{getDisplayName:function(a,b){return a in b?b[a]:a.charAt(0).toUpperCase()+a.slice(1)}},methods:{sortBy:function(a){var b=this;this.colSortable(a)&&(this.childHideable&&(this.childShow=this.childShow.map(function(a){return!b.childInitHide})),this.sortKey=a,this.sortOrders[a]*=
-1)},getColumns:function(a,b,e){if(0===a.length){if(this.aggregateColumns){var c=[];b.forEach(function(a){return c=c.concat(Object.keys(a))});var f=c.filter(function(a,b){return c.indexOf(a)==b})}else f=Object.keys(b[0]);0<e.length&&e.forEach(function(a){a=f.indexOf(a);-1<a&&f.splice(a,1)});return f}return a},toggleChild:function(a){this.childHideable&&(this.childShow[a]=!this.childShow[a],this.childShow.splice(a,1,this.childShow[a]))},colSortable:function(a){return 0<this.columnsToNotSort.length?
-1==this.columnsToNotSort.indexOf(a):0<this.columnsToSort.length?-1!=this.columnsToSort.indexOf(a):!0}}});
