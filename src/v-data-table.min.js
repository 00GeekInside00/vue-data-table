"undefined"!=typeof Vue&&Vue.component("v-data-table",{template:'<table>\n    <caption>\n      <slot name="caption">&nbsp;</slot>\n    </caption>\n    <thead>\n      <tr>\n        <th v-for="key in columns" @click="sortBy(key)" :class="{ active: sortKey == key }">\n          {{ key | getDisplayName(displayNames) }}\n          <span class="arrow" :class="sortOrders[key] > 0 ? \'asc\' : \'dsc\'">\n          </span>\n        </th>\n      </tr>\n    </thead>\n    <tbody v-for="(entry, index) in filteredData">\n      <tr @dblclick="childShow.splice(index, 1, true)">\n        <td v-for="key in columns">\n          <slot :name="key" :entry="entry">\n            {{entry[key]}}\n          </slot>\n        </td>\n      </tr>\n      <tr v-if="$scopedSlots.child && childShow[index]" @dblclick="toggleChild(index)">\n        <td :colspan="columns.length">\n          <slot name="child" :entry="entry"></slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>',
props:{data:Array,columnsToDisplay:{type:Array,"default":function(){return[]}},displayNames:{type:Object,"default":function(){return{}}},filterKey:{type:String,"default":""},childHideable:{type:Boolean,"default":!1},childInitHide:{type:Boolean,"default":!1}},data:function(){var a={};this.getColumns(this.columnsToDisplay,this.data).forEach(function(b){return a[b]=1});var b=[];this.childInitHide?this.data.forEach(function(a){return b.push(!1)}):this.data.forEach(function(a){return b.push(!0)});return{sortKey:"",
sortOrders:a,childShow:b}},computed:{filteredData:function(){var a=this.sortKey,b=this.filterKey&&this.filterKey.toLowerCase(),e=this.sortOrders[a]||1,d=this.data;b&&(d=d.filter(function(a){return Object.keys(a).some(function(c){return-1<String(a[c]).toLowerCase().indexOf(b)})}));a&&(d=d.slice().sort(function(b,c){b=b[a];c=c[a];return(b===c?0:b>c?1:-1)*e}));return d},columns:function(){return this.getColumns(this.columnsToDisplay,this.data)}},filters:{getDisplayName:function(a,b){return a in b?b[a]:
a.charAt(0).toUpperCase()+a.slice(1)}},methods:{sortBy:function(a){var b=this;this.childShow=this.childShow.map(function(a){return!b.childInitHide});this.sortKey=a;this.sortOrders[a]*=-1},getColumns:function(a,b){return 0==a.length?Object.keys(b[0]):a},toggleChild:function(a){this.childHideable&&(this.childShow[a]=!this.childShow[a],this.childShow.splice(a,1,this.childShow[a]))}}});
